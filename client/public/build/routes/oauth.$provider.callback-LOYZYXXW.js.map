{
  "version": 3,
  "sources": ["../../../app/routes/oauth.$provider.callback.tsx"],
  "sourcesContent": ["\n        if (!window.$RefreshReg$ || !window.$RefreshSig$ || !window.$RefreshRuntime$) {\n          console.warn('remix:hmr: React Fast Refresh only works when the Remix compiler is running in development mode.');\n        } else {\n          var prevRefreshReg = window.$RefreshReg$;\n          var prevRefreshSig = window.$RefreshSig$;\n          window.$RefreshReg$ = (type, id) => {\n            window.$RefreshRuntime$.register(type, \"\\\"app\\\\\\\\routes\\\\\\\\oauth.$provider.callback.tsx\\\"\" + id);\n          }\n          window.$RefreshSig$ = window.$RefreshRuntime$.createSignatureFunctionForTransform;\n        }\n      var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { jsx } from \"react/jsx-runtime\";\nimport * as __hmr__ from \"remix:hmr\";\nif (import.meta) {\n  import.meta.hot = __hmr__.createHotContext(\n  //@ts-expect-error\n  \"app\\\\routes\\\\oauth.$provider.callback.tsx\");\n  import.meta.hot.lastModified = \"1690992448046.932\";\n}\nimport { useContext, useEffect, useState } from \"react\";\nimport { useLocation, useNavigate } from \"@remix-run/react\";\nimport { APIService } from \"~/shared/services/api-service\";\nimport { AuthStore } from \"~/shared/stores\";\nimport { observer } from \"mobx-react\";\nimport { Loading } from \"~/shared/components\";\nimport { toast } from \"~/shared/utils/toast\";\nfunction useQuery() {\n  _s();\n  return new URLSearchParams(useLocation().search);\n}\n_s(useQuery, \"EuD9q2dZ34PfN/QO2OBhBzeMxmY=\", false, function () {\n  return [useLocation];\n});\nconst OAuthRedirect = () => {\n  _s2();\n  let query = useQuery();\n  let navigate = useNavigate();\n  const authStore = useContext(AuthStore);\n  const [code] = useState(query.get(\"code\"));\n  useEffect(() => {\n    (async () => {\n      try {\n        const response = await APIService.getInstance().getAccessToken(code);\n        const refresh_token = response.data.result.refresh_token;\n        const access_token = response.data.result.access_token;\n        authStore.setAuthorization({\n          access_token,\n          provider: \"google\",\n          refresh_token\n        });\n        const {\n          data: {\n            user\n          }\n        } = await APIService.getInstance().fetchUserInfo();\n        authStore.setUser(user);\n        navigate(\"/dashboard\");\n      } catch (e) {\n        toast({\n          title: \"We shot past the moon\",\n          message: \"Landing back to #Recruitment2022 failed. Please try again in a moment.\"\n        });\n      }\n    })();\n  }, []);\n  return /* @__PURE__ */jsx(\"div\", {\n    className: \"kz-oauth-redirect\",\n    children: /* @__PURE__ */jsx(Loading, {})\n  });\n};\n_s2(OAuthRedirect, \"N0tBWByVwjquuHugUqGj42rimkA=\", false, function () {\n  return [useQuery, useNavigate];\n});\n_c = OAuthRedirect;\nvar stdin_default = observer(OAuthRedirect);\nexport { stdin_default as default };\nvar _c;\n$RefreshReg$(_c, \"OAuthRedirect\");\n        window.$RefreshReg$ = prevRefreshReg;\n        window.$RefreshSig$ = prevRefreshSig;\n      "],
  "mappings": ";;;;;;;;;;;;;;;;;;;;;;;;;;;AAaA,yBAAoB;AAQpB,mBAAgD;AApBxC,IAAI,CAAC,OAAO,gBAAgB,CAAC,OAAO,gBAAgB,CAAC,OAAO,kBAAkB;AAC5E,UAAQ,KAAK,kGAAkG;AACjH,OAAO;AACD,mBAAiB,OAAO;AACxB,mBAAiB,OAAO;AAC5B,SAAO,eAAe,CAAC,MAAM,OAAO;AAClC,WAAO,iBAAiB,SAAS,MAAM,oDAAsD,EAAE;AAAA,EACjG;AACA,SAAO,eAAe,OAAO,iBAAiB;AAChD;AANM;AACA;AAMR,IAAI,KAAK,aAAa;AAAtB,IACJ,MAAM,aAAa;AAGrB,IAAI,aAAa;AACf,cAAY,MAAc;AAAA;AAAA,IAE1B;AAAA,EAA2C;AAC3C,cAAY,IAAI,eAAe;AACjC;AAQA,SAAS,WAAW;AAClB,KAAG;AACH,SAAO,IAAI,gBAAgB,YAAY,EAAE,MAAM;AACjD;AACA,GAAG,UAAU,gCAAgC,OAAO,WAAY;AAC9D,SAAO,CAAC,WAAW;AACrB,CAAC;AACD,IAAM,gBAAgB,MAAM;AAC1B,MAAI;AACJ,MAAI,QAAQ,SAAS;AACrB,MAAI,WAAW,YAAY;AAC3B,QAAM,gBAAY,yBAAW,aAAS;AACtC,QAAM,CAAC,IAAI,QAAI,uBAAS,MAAM,IAAI,MAAM,CAAC;AACzC,8BAAU,MAAM;AACd,KAAC,YAAY;AACX,UAAI;AACF,cAAM,WAAW,MAAM,WAAW,YAAY,EAAE,eAAe,IAAI;AACnE,cAAM,gBAAgB,SAAS,KAAK,OAAO;AAC3C,cAAM,eAAe,SAAS,KAAK,OAAO;AAC1C,kBAAU,iBAAiB;AAAA,UACzB;AAAA,UACA,UAAU;AAAA,UACV;AAAA,QACF,CAAC;AACD,cAAM;AAAA,UACJ,MAAM;AAAA,YACJ;AAAA,UACF;AAAA,QACF,IAAI,MAAM,WAAW,YAAY,EAAE,cAAc;AACjD,kBAAU,QAAQ,IAAI;AACtB,iBAAS,YAAY;AAAA,MACvB,SAAS,GAAP;AACA,cAAM;AAAA,UACJ,OAAO;AAAA,UACP,SAAS;AAAA,QACX,CAAC;AAAA,MACH;AAAA,IACF,GAAG;AAAA,EACL,GAAG,CAAC,CAAC;AACL,SAAsB,4CAAI,OAAO;AAAA,IAC/B,WAAW;AAAA,IACX,UAAyB,4CAAIA,gBAAS,CAAC,CAAC;AAAA,EAC1C,CAAC;AACH;AACA,IAAI,eAAe,gCAAgC,OAAO,WAAY;AACpE,SAAO,CAAC,UAAU,WAAW;AAC/B,CAAC;AACD,KAAK;AACL,IAAIA,iBAAgB,SAAS,aAAa;AAE1C,IAAI;AACJ,aAAa,IAAI,eAAe;AACxB,OAAO,eAAe;AACtB,OAAO,eAAe;",
  "names": ["stdin_default"]
}
